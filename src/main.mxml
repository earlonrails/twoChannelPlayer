<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
			   xmlns:s="library://ns.adobe.com/flex/spark"
			   xmlns:mx="library://ns.adobe.com/flex/mx"
			   xmlns:player="com.player.*"
         initialize="init();">

  <fx:Script>
    <![CDATA[
      // import standard flash libs
      import flash.display.*;
      import flash.events.*;
      import flash.filters.*;
      import flash.geom.*;
      import flash.net.*;
      import flash.utils.*;
      import flash.external.ExternalInterface;

      import mx.controls.Alert;

      // import custom player components
      import com.player.*;

      // on fully load of the app begin the player
      private function init():void{
        if (ExternalInterface.available){
          ExternalInterface.addCallback("loadAudioClip", loadAudio);
          ExternalInterface.call("playerLoaded");
        }
      }

      // public functions
      public function loadAudio(url:String):void{
        mp3Player.source = url;
      }
    ]]>
  </fx:Script>

	<player:Mp3Player id="mp3Player" width="100%" top="5"
    source=""
	  autoPlay="true" />

</s:Application>
